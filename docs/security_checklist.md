# 보안 체크리스트 (Security Checklist)

목적: Google Drive 연동 노트 서비스에서 개인 데이터 유출/훼손 위험을 최소화한다.

## 1) OAuth / Drive API
- [ ] OAuth scope를 최소 권한(`drive.file`)으로 설정했다.
- [ ] 테스트용/운영용 OAuth 클라이언트를 분리했다.
- [ ] Access Token/Refresh Token을 코드/문서에 하드코딩하지 않았다.
- [ ] 토큰 갱신 실패 시 사용자에게 안전한 오류 메시지를 제공한다.
- [ ] Google 계정 연결 해제(토큰 폐기) 절차를 문서화했다.

## 2) 비밀정보(Secrets)
- [ ] `.env*` 파일이 Git 추적에서 제외되어 있다.
- [ ] 토큰/키/클라이언트 시크릿은 안전한 저장소(환경변수/Secret Manager)에서만 관리한다.
- [ ] 로그에 토큰/세션값/민감 식별자를 남기지 않는다.
- [ ] 배포 환경별(로컬/스테이징/운영) 시크릿을 분리했다.

## 3) 데이터 보호
- [ ] 삭제는 기본적으로 휴지통(soft delete) 정책을 따른다.
- [ ] 복원/영구삭제 동작을 실데이터 기준으로 검증했다.
- [ ] 백업 복구 절차를 문서화하고 월 1회 복구 테스트를 수행한다.
- [ ] 파일 경로/첨부 링크에 민감정보가 노출되지 않도록 점검했다.

## 4) 서비스/인프라 보안
- [ ] HTTPS만 허용한다.
- [ ] 공개 엔드포인트에 최소한의 인증/권한 검사를 둔다.
- [ ] 예외/오류 응답에서 내부 경로/스택이 과도하게 노출되지 않는다.
- [ ] 배포 후 기본 헬스체크와 접근 로그를 확인한다.

## 5) 릴리즈 전 최종 점검
- [ ] PR에 보안 체크 결과를 포함했다.
- [ ] `docs/decisions.md`의 보안 관련 ADR과 충돌이 없다.
- [ ] `docs/qa_log.md`에 보안 관련 테스트 결과를 기록했다.
- [ ] 보안 이슈가 발견되면 머지를 중단하고 우선 수정한다.

## 운영 권장 주기
- 매 PR: 1, 2, 5번 체크
- 주 1회: 3번 체크
- 월 1회: 복구 테스트 + 권한/시크릿 재검토
